(function(){"use strict";var __webpack_modules__={8394:function(e,t,n){n.d(t,{Yq:function(){return s},nl:function(){return _},s3:function(){return d},sO:function(){return l}});var a=n(5180),i=n(5898),o=n(9773),r=n(4870);const u=(0,r.iH)(i.P[0]);let c=[i.P[1],i.P[2],i.P[3]];const l=()=>void 0!==u.value&&o.F,s=()=>u.value,_=()=>{c.length>0?u.value=c.splice(0,1)[0]:(u.value=void 0,(0,a.Bc)())},d=e=>{c=e,_()}},5710:function(e,t,n){n.d(t,{H6:function(){return E},JL:function(){return P},Jb:function(){return k},NP:function(){return T},T8:function(){return D},Wc:function(){return r},Ym:function(){return L},bt:function(){return O},iB:function(){return S},kC:function(){return w},wI:function(){return x},y9:function(){return b}});var a=n(2514);const i=()=>({img:null,loaded:!1}),o=(e,t)=>{e.img=new Image,e.img.src=t,e.img.onload=()=>e.loaded=!0},r={floor:i(),cave:i(),w2:i(),character:i(),spider:i(),mouse:i(),lightningFlag:i(),formationPlate:i(),animalCorpse:i(),lightning1:i(),lightning2:i(),lightning3:i(),lightning4:i(),waiting:i(),attacking:i(),walking:i(),talking:i(),exiting:i(),summonMouse:i(),recallMouse:i(),profileImg:i(),profileCold:i(),profileReading:i()},u=()=>{const e=Object.values(r),t=e.filter((e=>!e.loaded)),n=t.length;n>0?setTimeout(u,100):(0,a.sY)()},c="f1.jpg",l="t1.png",s="ww.jpg",_="ch.png",d="spider2.png",f="mouse.png",g="lightning_flag.png",p="formation_plate.png",m="lizard.png",v="effect_lightning_1.png",y="effect_lightning_2.png",h="effect_lightning_3.png",I="effect_lightning_4.png",O="waiting.png",x="attack.png",w="walk.png",E="take.png",T="exit.png",b="mouse_summon.png",k="mouse_recall.png",D="profile.png",P="profile_cold.png",L="profile_reading.png";function S(){o(r.floor,c),o(r.cave,l),o(r.w2,s),o(r.character,_),o(r.spider,d),o(r.mouse,f),o(r.lightningFlag,g),o(r.formationPlate,p),o(r.animalCorpse,m),o(r.lightning1,v),o(r.lightning2,y),o(r.lightning3,h),o(r.lightning4,I),o(r.waiting,O),o(r.attacking,x),o(r.walking,w),o(r.talking,E),o(r.exiting,T),o(r.summonMouse,b),o(r.recallMouse,k),o(r.profileImg,D),o(r.profileCold,P),o(r.profileReading,L),u()}},9290:function(e,t,n){n.d(t,{C$:function(){return v},Ei:function(){return y},QX:function(){return _},VQ:function(){return m},Xm:function(){return f},sy:function(){return p},y5:function(){return g}});var a=n(4870),i=n(2514),o=n(152),r=n(1032),u=n(7176),c=n(1023),l=n(555),s=n(6505);let _=[];const d=(0,a.iH)(u.IR),f=()=>d.value.range?.colour,g=e=>d.value.label===e.label,p=(e,t)=>_.find((n=>n.x===e&&n.y===t)),m=e=>{if((0,o.uS)(),e.range){const t="number"===typeof e.range.range?e.range.range:e.range.range();_=(0,l.fs)(r.Ld.value.data.at,t,e?.range.validator??l.bh.EMPTY_SPACE),d.value=e,(0,i.sY)()}else d.value=e,v({x:0,y:0,d:0}),console.log(`unit has ${r.Ld.value.data.energy} remaining`),r.Ld.value.data.energy<1&&(console.log("no energy left, next unit turn"),(0,r.Sj)()),console.log("click action finished")},v=e=>{d.value.perform(e),(!d.value.precondition()||r.Ld.value.data.energy<=0||(0,s.f0)())&&(d.value=u.IR),(0,c.Dn)(),m(d.value)};function y(){const e=r.Ld.value;return e.actions?.filter((e=>e.precondition()))??[]}},7176:function(e,t,n){n.d(t,{Gt:function(){return _},I1:function(){return f},IR:function(){return d},ii:function(){return g},qY:function(){return s}});var a=n(1032),i=n(3301),o=n(6705),r=n(1846),u=n(6505),c=n(555),l=n(5710);const s={label:"Wait",img:l.bt,perform:()=>{a.Ld.value.data.energy=0},precondition:()=>!0},_={label:"Attack",img:l.wI,range:{range:1,validator:c.bh.ENEMY_UNIT,colour:i.wU},perform:e=>{const t=(0,a.hM)();(0,a.JR)(t,e),a.Ld.value.data.energy=0},precondition:()=>!0},d={label:"Walk",img:l.kC,range:{range:()=>a.Ld.value.data.energy,validator:c.bh.EMPTY_SPACE,colour:i.jL},perform:e=>{console.log(`walking to ${e.x}, ${e.y} with d=${e.d}`),a.Ld.value.data.at=JSON.parse(JSON.stringify(e)),a.Ld.value.data.energy-=e.d},precondition:()=>!0},f={label:"Pick Up",img:l.H6,range:{range:1,validator:c.bh.ITEM,colour:i.jL},perform:e=>{const t=(0,o.KI)(e);(0,r.yZ)(t)},precondition:()=>(0,c.fs)(a.Ld.value.data.at,1,c.bh.ITEM).length>0},g={label:"Exit Level",img:l.NP,corners:i.eL.SQUARE,perform:()=>(0,u.e2)("Completed level!",""),precondition:()=>!(0,a.RY)()}},2161:function(e,t,n){n.d(t,{AC:function(){return l},Qx:function(){return d},Uc:function(){return _}});var a=n(1032),i=n(3301),o=n(555),r=n(1042),u=n(5710),c=n(1734);const l="Spirit Friend",s="deployed",_={label:l,img:u.y9,range:{range:1,validator:o.bh.EMPTY_SPACE,colour:i.wU},meta:{[s]:!1},perform(e){(0,a.Nn)((0,a.JP)(c.C.MOUSE,e)),this.meta[s]=!0,a.Ld.value.data.energy=0},precondition(){return!1===this.meta[s]}},d={label:"Recall",img:u.Jb,perform(){console.log("perform recall"),(0,a.ZQ)("Mouse");const e=a.Ld.value.actions?.find((e=>e.label===l));e&&(e.meta[s]=!1),a.Ld.value.data.energy=0},precondition(){return console.log(`checking recall spirit friend precondition: ${(0,r.cb)("Mouse")}`),(0,r.cb)("Mouse")}}},3238:function(e,t,n){n.d(t,{AO:function(){return r},Bu:function(){return d},F6:function(){return c},Oj:function(){return g},Pe:function(){return v},Qd:function(){return p},XV:function(){return u},hs:function(){return m},te:function(){return _}});var a=n(4870),i=n(5180);const o=(0,a.iH)(!1),r=()=>o.value,u=(e,t,n)=>{s.damage=e,s.attacker=t,s.defender=n,o.value=!0,x()},c=()=>s.attacker,l=()=>{o.value=!1,s.damage=0,(0,i.Bc)()},s={damage:0,attacker:null,defender:null},_=()=>s.defender?.image,d=()=>s.attacker?.image,f=200,g=(0,a.iH)(""),p=(0,a.iH)(""),m=(0,a.iH)(""),v=(0,a.iH)(""),y={top:0,height:0,center:0},h={top:0,height:0,center:0,filter:null},I=()=>g.value=`margin-left: ${y.center??0}px; margin-top: ${y.top??0}px; height: ${y.height}px`,O=()=>p.value=`margin-left: ${h.center??0}px; margin-top: ${h.top??0}px; height: ${h.height}px;`+(h.filter?`filter: ${h.filter}`:""),x=()=>{console.log("start animation"),s.attacker&&(y.top=s.attacker.top,y.height=s.attacker.height,y.center=s.attacker.center),s.defender&&(h.top=s.defender.top,h.height=s.defender.height,h.center=s.defender.center,h.filter=null),I(),O(),c()?setTimeout(w,2*f):setTimeout(T,2*f)},w=()=>{console.log("attacker start charge"),y.center=0,I(),setTimeout(E,f)},E=()=>{console.log("attacker complete charge"),y.center=s.attacker?.center??0,I(),setTimeout(b,f)},T=()=>{console.log("lightning attack"),m.value="\n        background-color: #f2c6c6;\n        background-blend-mode: screen;\n    ",h.filter="hue-rotate(30deg) saturate(500%) brightness(300%);",O(),setTimeout(b,f)},b=()=>{console.log("defender receive attack animation"),m.value="",h.filter="hue-rotate(0deg) saturate(500%) brightness(150%)",c()&&(h.center=s.defender?.rebound??0),O(),v.value=`-${s.damage}`,setTimeout(k,2*f)},k=()=>{console.log("defender return to normal"),h.filter=null,h.center=s.defender?.center??0,O(),setTimeout(D,4*f)},D=()=>{console.log("end animation"),v.value="",g.value="",p.value="",l()}},2514:function(e,t,n){n.d(t,{P$:function(){return q},PL:function(){return B},bM:function(){return g},c6:function(){return W},cv:function(){return p},f4:function(){return G},h$:function(){return y},j7:function(){return f},o_:function(){return m},sY:function(){return k}});var a=n(3514),i=n(5710),o=n(1023),r=n(1032),u=n(9290),c=n(1412),l=n(3301),s=n(6705),_=n(9779),d=n(9047);let f=0;const g=100,p={x:0,y:0},m=()=>document.getElementById("myCanvas");function v(){const e=m();f=window.devicePixelRatio;const t=+getComputedStyle(e).getPropertyValue("height").slice(0,-2),n=+getComputedStyle(e).getPropertyValue("width").slice(0,-2);e.setAttribute("height",""+t*f),e.setAttribute("width",""+n*f)}function y(){const e=m();v(),e.addEventListener("mousemove",c.f$),setInterval(I,200)}let h=1;const I=()=>{h++,h>4&&(h=1);const e=m(),t=e.getContext("2d");if(t)for(const n of _.Sz)P(t,n.at)};function O(e,t,n){e.save(),o.oP[t.y][t.x]||(e.filter="brightness(0.4)"),n(),e.restore()}function x(e,t){const n=m(),a=n.getContext("2d");O(a,t,(()=>{const n=(t.x-p.x)*g,i=(t.y-p.y)*g;a.drawImage(e,n,i,g,g)}))}function w(e,t){const n=m(),a=n.getContext("2d"),i=(t.x-p.x)*g-g/4,o=(t.y-p.y)*g-g/2;a.drawImage(e,i,o,1.5*g,1.5*g)}function E(e,t){const n=m(),a=n.getContext("2d"),i=(t.x-p.x)*g,o=(t.y-p.y)*g;a.drawImage(e,i,o-g/2,g,1.5*g)}function T(e,t,n,a){const i=m(),o=i.getContext("2d");O(o,n,(()=>{const i=(n.x-p.x)*g,r=(n.y-p.y)*g;o.save(),a&&(o.globalAlpha=.8),o.drawImage(t,i,r-g/4*3,g,g),o.drawImage(e,i,r+g/4,g,g-g/4),o.restore()}))}function b(e){if(o.oP[e.data.at.y][e.data.at.x]){e.imgType===l.Oe.STANDING?E(i.Wc[e.img].img,e.data.at):e.imgType==l.Oe.OVERSIZED?w(i.Wc[e.img].img,e.data.at):x(i.Wc[e.img].img,e.data.at);const t=m(),n=t.getContext("2d"),a=(e.data.at.x-p.x)*g,o=(e.data.at.y-p.y)*g;n.font="25px Arial",n.fillStyle="white",n.fillText(`${e.data.armour}`,a+g-90,o+g),n.fillStyle="red",n.fillText(`${e.data.hp}`,a+g-55,o+g),n.fillStyle="yellow",n.fillText(`${e.data.qi}`,a+g-30,o+g)}}const k=()=>{const e=m(),t=e.getContext("2d");t&&(t.clearRect(0,0,e.width,e.height),D(t))};function D(e){for(let t=0+p.y;t<a.UI.length;t++)for(let n=0+p.x;n<a.UI[0].length;n++)P(e,{x:n,y:t})}function P(e,t){if(o.oh[t.y][t.x]){if(0===a.UI[t.y][t.x])x(i.Wc.floor.img,t);else if(1===a.UI[t.y][t.x]){const e=t.y-1>=0&&0===a.UI[t.y-1][t.x]&&o.oP[t.y-1][t.x];e&&x(i.Wc.floor.img,t),T(i.Wc.w2.img,i.Wc.cave.img,t,e)}N(e,t),L(e,t),A(t),S(t),R(t),C(e,t)}}function L(e,t){(0,d.O)(r.Ld.value?.data.at,t)&&(e.fillStyle=l.wu,e.fillRect((r.Ld.value.data.at.x-p.x)*g,(r.Ld.value.data.at.y-p.y)*g,g,g))}function S(e){const t=r.Dl.value.find((t=>(0,d.O)(t.data.at,e)));t&&b(t)}function M(e){x(e.type.img.img,e.at)}function A(e){const t=(0,s.ev)().find((t=>t.at.x===e.x&&t.at.y===e.y));t&&M(t)}function U(e){if(e.type===_.Ab.LIGHTNING)switch(h){case 1:return x(i.Wc.lightning1.img,e.at);case 2:return x(i.Wc.lightning2.img,e.at);case 3:return x(i.Wc.lightning3.img,e.at);case 4:return x(i.Wc.lightning4.img,e.at)}}function R(e){const t=_.Sz.find((t=>t.at.x===e.x&&t.at.y===e.y));t&&U(t)}function C(e,t){c.dR.x===t.x&&c.dR.y===t.y&&(e.lineWidth=2,e.strokeStyle="orange",e.beginPath(),e.rect(c.dR.x*g,c.dR.y*g,g,g),e.stroke())}function N(e,t){u.QX.some((e=>e.x===t.x&&e.y===t.y))&&(e.lineWidth=16,e.strokeStyle=(0,u.Xm)(),e.beginPath(),e.rect((t.x-p.x)*g+12,(t.y-p.y)*g+12,g-24,g-24),e.stroke())}function q(){p.x++,k()}function B(){p.x>0&&(p.x--,k())}function W(){p.y>0&&(p.y--,k())}function G(){p.y++,k()}},3301:function(e,t,n){n.d(t,{Lm:function(){return s},Oe:function(){return u},PV:function(){return l},eL:function(){return r},jL:function(){return a},q0:function(){return c},wU:function(){return i},wu:function(){return o}});const a="rgba(255, 98, 164, 0.3)",i="rgba(143, 50, 168, 0.3)",o="rgb(20, 19, 242, 0.3)";var r,u,c,l,s;(function(e){e["SQUARE"]="square",e["ROUND"]="round"})(r||(r={})),function(e){e[e["NORMAL"]=0]="NORMAL",e[e["STANDING"]=1]="STANDING",e[e["OVERSIZED"]=2]="OVERSIZED"}(u||(u={})),function(e){e[e["TOOLTIP"]=0]="TOOLTIP",e[e["DIALOG"]=1]="DIALOG"}(c||(c={})),function(e){e["LEFT"]="left",e["BOTTOM_RIGHT"]="bottom-right",e["BOTTOM"]="bottom"}(l||(l={})),function(e){e["CANVAS"]="canvas",e["ACTION"]="action"}(s||(s={}))},9779:function(e,t,n){n.d(t,{Ab:function(){return a},CB:function(){return l},GB:function(){return c},Sz:function(){return i},Uh:function(){return r},bY:function(){return u},gy:function(){return o}});var a;n(7658);(function(e){e[e["LIGHTNING"]=0]="LIGHTNING"})(a||(a={}));let i=[];const o=(e,t,n)=>{i.find((t=>t.at.x===e.x&&t.at.y===e.y))||i.push({at:e,type:t,source:n})},r=e=>{i=i.filter((t=>!(t.source.x===e.x&&t.source.y===e.y)))},u=e=>i.filter((t=>t.source.x===e.x&&t.source.y===e.y)),c=()=>JSON.stringify(i),l=e=>{i=JSON.parse(e)}},3131:function(e,t,n){n.d(t,{$0:function(){return T},Cx:function(){return g},D9:function(){return v},Hm:function(){return a},LD:function(){return k},aM:function(){return f},fV:function(){return D},p$:function(){return y},rn:function(){return p},sw:function(){return h},u:function(){return m}});n(7658);var a,i=n(4870),o=n(6705),r=n(9779),u=n(1042),c=n(1032),l=n(9047),s=n(4976);(function(e){e["BROKEN"]="Broken",e["IDLE"]="Idle",e["ALIVE"]="Alive"})(a||(a={}));const _=(e,t)=>({name:t,data:{at:e,energy:1},movement:1,autoMove:()=>{console.log("formation's turn"),(0,c.hM)().data.qi-=2;const t=(0,r.bY)(e);for(const e of t){const t=(0,c.uv)(e.at);t&&(console.log(`attacking unit at ${t.data.at.x}, ${t.data.at.y}`),(0,c.JR)({power:20,name:"lightning"},e.at))}return!0},actions:[]}),d=(0,i.iH)([]),f=e=>d.value.find((t=>t.title===e)),g=(e,t,n)=>{const i={title:e,at:t,type:n,corners:{},status:a.IDLE};i.corners=b(t),i.corners.TL&&i.corners.TR&&i.corners.BL&&i.corners.BR||(i.status=a.BROKEN),d.value.push(i),console.log(`formations: ${JSON.stringify(d.value)}`)},p=()=>{for(const e of d.value)e.corners=b(e.at),e.corners.TL&&e.corners.TR&&e.corners.BL&&e.corners.BR?e.status=a.IDLE:e.status=a.BROKEN},m=e=>{d.value.splice(d.value.findIndex((t=>(0,l.O)(t.at,e))))},v=()=>d.value.length>0,y=()=>d.value,h=e=>{const t=d.value.find((t=>(0,l.O)(t.at,e)));if(t){t.status=a.ALIVE,E(t),console.log(`adding to stack formation: ${t.title}`);const n=_(e,t.title);t.unit=n,(0,u.DK)(n)}},I=e=>{const t=e.corners?.TL?.at;if(t){const n=e.at;for(let e=t.x;e<n.x+1;e++)for(let a=t.y;a<n.y+1;a++)(0,r.gy)({x:e,y:a},r.Ab.LIGHTNING,n)}},O=e=>{const t=e.corners?.TR?.at;if(t){const n=e.at;for(let e=n.x;e<t.x+1;e++)for(let a=t.y;a<n.y+1;a++)(0,r.gy)({x:e,y:a},r.Ab.LIGHTNING,n)}},x=e=>{const t=e.corners?.BL?.at;if(t){const n=e.at;for(let e=t.x;e<n.x+1;e++)for(let a=n.y;a<t.y+1;a++)(0,r.gy)({x:e,y:a},r.Ab.LIGHTNING,n)}},w=e=>{const t=e.corners?.BR?.at;if(t){const n=e.at;for(let e=n.x;e<t.x+1;e++)for(let a=n.y;a<t.y+1;a++)(0,r.gy)({x:e,y:a},r.Ab.LIGHTNING,n)}},E=e=>{I(e),O(e),x(e),w(e)},T=e=>{const t=d.value.find((t=>(0,l.O)(t.at,e)));t&&(t.status=a.IDLE,(0,r.Uh)(e),t&&(console.log(`removing from stack formation: ${t.title}`),(0,u.GO)(t.title)))},b=e=>{const t={};for(const n of(0,o.ev)())if(n.type.category===s.vd.FLAG){const a=n.at.x-e.x,i=n.at.y-e.y;if(Math.abs(a)===Math.abs(i)){const e=JSON.parse(JSON.stringify(n.at)),o=Math.abs(a);a<0&&i<0?t.TL={at:e,dist:o}:a>0&&i<0?t.TR={at:e,dist:o}:a<0&&i>0?t.BL={at:e,dist:o}:a>0&&i>0&&(t.BR={at:e,dist:o})}}return t},k=()=>{const e=d.value.map((({title:e,type:t,at:n,corners:a,status:i})=>({title:e,type:t,at:n,corners:a,status:i})));return JSON.stringify(e)},D=e=>{const t=JSON.parse(e);d.value=t.map((({title:e,type:t,at:n,corners:a,status:i})=>({title:e,type:t,at:n,corners:a,status:i,unit:_(n,e)})))}},6505:function(e,t,n){n.d(t,{D0:function(){return s},Gi:function(){return c},e2:function(){return _},f0:function(){return d},s$:function(){return f},un:function(){return l}});var a,i=n(4870);(function(e){e[e["IN_PROGRESS"]=0]="IN_PROGRESS",e[e["GAME_OVER"]=1]="GAME_OVER"})(a||(a={}));const o=(0,i.iH)(a.IN_PROGRESS),r=(0,i.iH)(""),u=(0,i.iH)(""),c="defeat",l=()=>r.value,s=()=>u.value,_=(e,t)=>{r.value=e,o.value=a.GAME_OVER,u.value=t===c?"defeated.jpg":"win.jpg"},d=()=>o.value===a.GAME_OVER,f=()=>{o.value=a.IN_PROGRESS,r.value="",u.value=""}},5180:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Bc:function(){return guideTick},J:function(){return restoreGuides},gB:function(){return getTooltip},hD:function(){return hasTooltip},uI:function(){return setGuides},x8:function(){return saveGuides}});var _dialog_dialog__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(8394),vue__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(4870),_constants__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3301),_settings__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(9773),_units_units__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1032),_map_util_eqXy__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(9047),_items_items__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6705),_visibility__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1023),_formations_formations__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3131),_gameStatus__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(6505),_items_itemTypes__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(4976),_actions_commonActions__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(7176);let guides=[];const allGuides=()=>guides,guideText=(0,vue__WEBPACK_IMPORTED_MODULE_9__.iH)(),getGuide=()=>guideText.value,hasTooltip=()=>guideText.value?.type===_constants__WEBPACK_IMPORTED_MODULE_1__.q0.TOOLTIP&&guideText.value?.tooltip&&_settings__WEBPACK_IMPORTED_MODULE_10__.F,getTooltip=()=>guideText.value?.tooltip,setGuides=e=>{guides=e,guideTick()},itemVisible=e=>(0,_items_items__WEBPACK_IMPORTED_MODULE_3__.ev)().some((t=>t.type.title===e&&_visibility__WEBPACK_IMPORTED_MODULE_4__.oP[t.at.y][t.at.x])),unitVisible=e=>_units_units__WEBPACK_IMPORTED_MODULE_2__.Dl.value.some((t=>t.name===e&&_visibility__WEBPACK_IMPORTED_MODULE_4__.oP[t.data.at.y][t.data.at.x])),createGameState=()=>({player:(0,_units_units__WEBPACK_IMPORTED_MODULE_2__.hM)(),currentTurnUnit:_units_units__WEBPACK_IMPORTED_MODULE_2__.Ld.value,playerTeam:(0,_units_units__WEBPACK_IMPORTED_MODULE_2__.cp)(),u:{eqXy:_map_util_eqXy__WEBPACK_IMPORTED_MODULE_11__.O,itemVisible:itemVisible,unitVisible:unitVisible,hasFormations:_formations_formations__WEBPACK_IMPORTED_MODULE_5__.D9,getFormations:_formations_formations__WEBPACK_IMPORTED_MODULE_5__.p$,hasEnemies:_units_units__WEBPACK_IMPORTED_MODULE_2__.RY,isGameOver:_gameStatus__WEBPACK_IMPORTED_MODULE_6__.f0},c:{SPIDER_BAIT:_items_itemTypes__WEBPACK_IMPORTED_MODULE_7__.Or,PICK_UP_ACTION:_actions_commonActions__WEBPACK_IMPORTED_MODULE_8__.I1}}),guideTick=()=>{const e=createGameState();if(console.log("guide tick"),guideText.value?.finished(e)&&(console.log("guide finished"),guideText.value=void 0),!guideText.value){console.log("looking for new guides");for(let t=0;t<guides.length;t++)if(console.log(`found guide ${guides[t].name}`),guides[t].ready(e))return console.log("ready"),guideText.value=guides.splice(t,1)[0],void(guideText.value.type===_constants__WEBPACK_IMPORTED_MODULE_1__.q0.DIALOG&&guideText.value.dialog&&(0,_dialog_dialog__WEBPACK_IMPORTED_MODULE_0__.s3)(guideText.value.dialog))}},guideToString=({name:e,type:t,tooltip:n,dialog:a,ready:i,finished:o})=>({name:e,type:t,tooltip:n,dialog:a,ready:i.toString(),finished:o.toString()}),stringToGuide=({name:name,type:type,tooltip:tooltip,dialog:dialog,ready:ready,finished:finished})=>({name:name,type:type,tooltip:tooltip??void 0,dialog:dialog??void 0,ready:eval(ready),finished:eval(finished)}),saveGuides=()=>{const e=guideText.value?guideToString(guideText.value):void 0;return console.log(`converedGuideText: ${JSON.stringify(e)}`),JSON.stringify({guides:guides.map(guideToString),guideText:e})},restoreGuides=e=>{const t=JSON.parse(e);guides=t.guides.map(stringToGuide),guideText.value=stringToGuide(t.guideText)}},5898:function(e,t,n){n.d(t,{P:function(){return c},R:function(){return I}});var a=n(5710),i=n(2161),o=n(3301),r=n(5180);const u="Azeena",c=[{name:u,speech:"'Brrr... it's colder in here than I expected.'",profileImg:a.JL},{name:u,speech:"'According to the book, there are tens of thousands of these caves hidden in the north-western mountains that encircle the desert.'",profileImg:a.Ym},{name:u,speech:"'They are the remains of an ancient civilization that disappeared a long time ago and are now inhabited by monsters.'",profileImg:a.Ym},{name:u,speech:"'This one should just be the lair of a giant spider though. Even though it's tough, with a little bit of skill, I should be able to take it out.'",profileImg:a.T8}],l={name:"movement guide",type:o.q0.TOOLTIP,tooltip:{text:"Let's explore! I can move here!",direction:o.PV.LEFT,location:{top:290,left:240},target:o.Lm.CANVAS,targetName:o.Lm.CANVAS},ready:()=>!0,finished:e=>!e.u.eqXy(e.player.data.at,{x:0,y:4})},s={name:"bait dialog",type:o.q0.DIALOG,dialog:[{name:u,speech:"'Are those dead lizards?'",profileImg:a.T8},{name:u,speech:"'Apparantly spiders like to eat lizards. Maybe I can use them as bait?'",profileImg:a.Ym}],ready:e=>e.u.itemVisible(e.c["SPIDER_BAIT"]),finished:()=>!0},_={name:"bait tooltip",type:o.q0.TOOLTIP,tooltip:{text:"Move within range of the dead lizards",direction:o.PV.LEFT,location:{top:160,left:240},target:o.Lm.CANVAS,targetName:o.Lm.CANVAS},ready:e=>e.u.itemVisible(e.c["SPIDER_BAIT"]),finished:e=>e.c["PICK_UP_ACTION"]?.precondition??!1},d={name:"pickup tooltip",type:o.q0.TOOLTIP,tooltip:{text:"Click the 'take' action and then choose an item to take",direction:o.PV.BOTTOM,location:{top:-100,left:0},width:260,target:o.Lm.ACTION,targetName:"Pick Up"},ready:e=>e.c["PICK_UP_ACTION"]?.precondition??!1,finished:e=>(e.currentTurnUnit?.inventory?.quantity("Spider Bait")??0)>0??!1},f={name:"spy dialog",type:o.q0.DIALOG,dialog:[{name:u,speech:"'This place is scary. I shouldn't just walk around aimlessly like this.'",profileImg:a.T8},{name:u,speech:"'I know. I can summon my spirit friend. She's a mouse, and whatever she can see, I can see.'",profileImg:a.T8}],ready:e=>e.currentTurnUnit.data.at.x>=4,finished:()=>!0},g={name:"spy tooltip",type:o.q0.TOOLTIP,tooltip:{text:"Click the 'summon' action to summon my spirit friend.",direction:o.PV.BOTTOM,location:{top:-100,left:0},width:260,target:o.Lm.ACTION,targetName:i.AC},ready:e=>e.currentTurnUnit.data.at.x>=4,finished:e=>e.playerTeam.some((e=>"Mouse"===e.name))},p={name:"spider dialog",type:o.q0.DIALOG,dialog:[{name:u,speech:"'That's the spider! I need to be careful. There's no way I could defeat that thing by just charging in.'",profileImg:a.T8},{name:u,speech:"'Lucky I bought materials for laying a formation. According to the book, I need to place a formation plate in the center of a large area and place a lightning flags at each corner.'",profileImg:a.Ym},{name:u,speech:"'Then I can activate the formation to release deadly lightning. Better not to get hit by that!'",profileImg:a.Ym},{name:u,speech:"'Okay! Let's try laying that formation plate somewhere!'",profileImg:a.T8}],ready:e=>e.u.unitVisible("Turqoise Spider"),finished:()=>!0},m={name:"formation plate dialog",type:o.q0.DIALOG,dialog:[{name:u,speech:"'I've laid the formation plate. Now I need to put a lightning flag in one of the four corners. It shouldn't matter how far they are as long as they are on the corner...'",profileImg:a.Ym}],ready:e=>e.u.hasFormations(),finished:()=>!0},v={name:"formation plate dialog",type:o.q0.DIALOG,dialog:[{name:u,speech:"'The formation is complete. Once I lure the spider here I can activate the formation to zap it.'",profileImg:a.Ym},{name:u,speech:"'Better not stand in range of the formation when it's active..!'",profileImg:a.T8}],ready:e=>e.u.hasFormations()&&"Idle"===e.u.getFormations()[0].status,finished:()=>!0},y={name:"spider dialog",type:o.q0.DIALOG,dialog:[{name:u,speech:"'I killed it! I actually killed it! I can't believe I really did it!'",profileImg:a.T8},{name:u,speech:"'Phew! Now that's over, I can leave this place once I'm ready'",profileImg:a.T8}],ready:e=>!e.u.hasEnemies(),finished:()=>!0},h={name:"exit tooltip",type:o.q0.TOOLTIP,tooltip:{text:"Click the 'exit level' action to leave the cave.",direction:o.PV.BOTTOM_RIGHT,location:{top:-100,left:-150},width:260,target:o.Lm.ACTION,targetName:"Exit Level"},ready:e=>!e.u.hasEnemies(),finished:e=>e.u.isGameOver()},I=()=>{(0,r.uI)([l,s,_,d,f,g,p,m,v,y,h])}},1846:function(e,t,n){n.d(t,{F8:function(){return g},Wi:function(){return h},gE:function(){return y},wE:function(){return v},yZ:function(){return m}});var a=n(7327),i=(n(7658),n(4870)),o=n(9290),r=n(3301),u=n(1032),c=n(6705),l=n(7176),s=n(3131),_=n(555),d=n(4976);const f=(0,i.iH)(null);class g{constructor(e){(0,a.Z)(this,"items",[]),this.items=e}removeItem(e){const t=this.findItem(e);t&&(t.quantity--,t?.quantity<=0&&this.items.splice(this.items.findIndex((t=>t.type===e)),1))}findItem(e){return this.items.find((t=>t.type===e))}quantity(e){return this.findItem(e)?.quantity??0}addItem(e){const t=this.findItem(e);t?t.quantity++:this.items.push({type:e,quantity:1})}isEmpty(){return 0===this.items.length}}const p=e=>{console.log("perform action inventory"),f.value&&(u.Ld.value?.inventory?.removeItem(f.value),(0,c.Hy)(f.value,e),f.value===d.WF&&(0,s.rn)()),(!f.value||(u.Ld.value?.inventory?.quantity(f.value)??0)<=0)&&(f.value=null,(0,o.VQ)(l.IR))},m=e=>{u.Ld.value?.inventory?.addItem(e.type.title),e.type.category===d.vd.FORMATION?(0,s.u)(e.at):e.type.category===d.vd.FLAG&&(0,s.rn)()},v={label:"Inventory",img:"",range:{range:1,validator:_.bh.EMPTY_SPACE,colour:r.wU},perform:e=>{f.value===d.N7?((0,s.Cx)(`Formation ${(0,s.p$)().length+1}`,e,d.N7),p(e)):p(e)},precondition:()=>!0},y=e=>(0,o.y5)(v)&&e.type===f.value,h=e=>{console.log(`click inventory item ${e.type}`),f.value=e.type,(0,o.VQ)(v)}},4976:function(e,t,n){n.d(t,{B4:function(){return c},N7:function(){return u},Or:function(){return o},WF:function(){return r},vd:function(){return a}});var a,i=n(5710);(function(e){e[e["NORMAL"]=0]="NORMAL",e[e["FORMATION"]=1]="FORMATION",e[e["FLAG"]=2]="FLAG"})(a||(a={}));const o="Spider Bait",r="Lightning Flag",u="Formation Plate",c={[o]:{img:i.Wc.animalCorpse,title:o,category:a.NORMAL},[r]:{img:i.Wc.lightningFlag,title:r,category:a.FLAG},[u]:{img:i.Wc.formationPlate,title:u,category:a.FORMATION}}},6705:function(e,t,n){n.d(t,{Hy:function(){return c},KI:function(){return l},Kx:function(){return s},_x:function(){return _},ev:function(){return u}});n(7658);var a=n(4870),i=n(4976);const o=(0,a.iH)([]),r=e=>({type:i.B4[e.type],at:e.at}),u=()=>o.value.map(r),c=(e,t)=>{o.value.push({type:e,at:t})},l=e=>o.value.splice(o.value.findIndex((t=>t.at.x===e.x&&t.at.y===e.y)),1).map(r)[0],s=()=>JSON.stringify(o.value),_=e=>{o.value=JSON.parse(e)}},3514:function(e,t,n){n.d(t,{UI:function(){return i},do:function(){return o},gK:function(){return r}});n(9290),n(1023);const a=[[1,1,1,1,1,1,1,1,1,1,1],[1,0,0,0,1,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,1],[1,1,0,1,1,0,0,0,0,0,1],[0,0,0,0,1,0,0,0,0,0,1],[1,1,1,1,1,0,1,0,1,0,1],[1,0,0,0,1,0,1,0,0,0,1],[1,0,0,0,1,1,1,1,1,0,1],[1,0,0,0,0,0,0,0,0,0,1],[1,1,1,1,1,1,1,1,1,1,1]];let i=a;function o(){return JSON.stringify(i)}function r(e){i=JSON.parse(e)}},9047:function(e,t,n){n.d(t,{O:function(){return a}});const a=(e,t)=>e.x===t.x&&e.y===t.y},555:function(e,t,n){n.d(t,{bh:function(){return a},fs:function(){return p}});n(7658);var a,i=n(1032),o=n(3514),r=n(9047),u=n(6705);(function(e){e[e["EMPTY_SPACE"]=0]="EMPTY_SPACE",e[e["ENEMY_UNIT"]=1]="ENEMY_UNIT",e[e["WALL"]=2]="WALL",e[e["ITEM"]=3]="ITEM"})(a||(a={}));const c=e=>0===o.UI[e.y][e.x]&&!i.Dl.value.some((t=>(0,r.O)(t.data.at,e))),l=e=>0===o.UI[e.y][e.x]&&i.Dl.value.some((t=>(0,r.O)(t.data.at,e)&&t.team===i.SZ.MONSTER)),s=e=>0!==o.UI[e.y][e.x]&&!i.Dl.value.some((t=>(0,r.O)(t.data.at,e))),_=e=>(0,u.ev)().some((t=>t.at.x===e.x&&t.at.y===e.y));function d(e,t){const n=t??a.EMPTY_SPACE;return g(e,[],n)}const f=(e,t)=>{switch(t){case a.EMPTY_SPACE:return c(e);case a.ENEMY_UNIT:return l(e);case a.WALL:return s(e);case a.ITEM:return _(e)}};function g(e,t,n){const a=[];for(let i=e.x-1;i<e.x+2;i++)for(let r=e.y-1;r<e.y+2;r++)i>=0&&i<o.UI[0].length&&r>=0&&r<o.UI.length&&f({x:i,y:r},n)&&!a.some((e=>e.x==i&&e.y===r))&&!t.some((e=>e.x==i&&e.y===r))&&a.push({x:i,y:r});return a}function p(e,t,n){const i=n??a.EMPTY_SPACE,o=d(e,i);let r=o.map((e=>m(e,1)));for(let a=0;a<t-1;a++){const e=r.length;for(let t=0;t<e;t++){const e=g(r[t],r,i);r=r.concat(e.map((e=>m(e,a+2))))}}return r}function m(e,t){return{...e,d:t}}},1412:function(e,t,n){n.d(t,{d0:function(){return l},dR:function(){return s},f$:function(){return _},lP:function(){return p}});var a=n(4870),i=n(152),o=n(9290),r=n(2514),u=n(1032),c=n(5180);const l=(0,a.iH)(!1),s={x:-1,y:-1},_=e=>{const t=(0,r.o_)(),n=t.getBoundingClientRect(),a=Math.floor((e.clientX-n.left)/r.bM*r.j7),i=Math.floor((e.clientY-n.top)/r.bM*r.j7);s.x=a,s.y=i,(0,r.sY)(),d(s)},d=e=>{f()||g()?l.value=!0:l.value=!1},f=()=>i.Ao.some((e=>e.x===s.x+r.cv.x&&e.y===s.y+r.cv.y)),g=()=>o.QX.some((e=>e.x===s.x+r.cv.x&&e.y===s.y+r.cv.y));function p(){if(console.log("click"),g()){const e=(0,o.sy)(s.x,s.y);(0,o.C$)({x:s.x+r.cv.x,y:s.y+r.cv.y,d:e.d}),u.Ld.value.data.energy<1&&(0,u.Sj)()}(0,c.Bc)()}},152:function(e,t,n){n.d(t,{Ao:function(){return i},o1:function(){return o},uS:function(){return r}});n(555);var a=n(1032);let i=[];function o(e,t){a.Ld.value.data.at.x=e,a.Ld.value.data.at.y=t}function r(){i=[]}},1042:function(e,t,n){n.d(t,{DK:function(){return f},GO:function(){return _},Os:function(){return d},Qk:function(){return l},T6:function(){return p},cb:function(){return s},pw:function(){return g},rl:function(){return m},w_:function(){return v},zR:function(){return c}});n(7658);var a=n(4870),i=n(1032),o=n(3131);const r=(0,a.iH)([]),u=(0,a.iH)(0);function c(){let e=u.value+1;e>=r.value.length&&(e=0),u.value=e}function l(){console.log(`-- get current stack unit index=${u.value}`);const e=r.value[u.value];console.log(`name=${e}, turnStack=${JSON.stringify(r.value)}`);const t=i.Dl.value.find((t=>t.name===e));return t||(0,o.aM)(e)?.unit}function s(e){return r.value.includes(e)}function _(e){console.log(`removing unit ${e}`);const t=r.value.indexOf(e);t>0&&r.value.splice(t,1)}function d(e){_(e),c(),console.log(`turn stack: ${JSON.stringify(r.value)}`)}function f(e){r.value.push(e.name)}function g(){r.value=[]}function p(){return r.value.map((e=>{const t=i.Dl.value.find((t=>t.name===e));return t||(0,o.aM)(e)?.unit})).filter((e=>!!e))}function m(){return JSON.stringify({stack:r.value,index:u.value})}function v(e){const t=JSON.parse(e);r.value=t.stack,u.value=t.index}},1734:function(e,t,n){var a;n.d(t,{C:function(){return a}}),function(e){e[e["PLAYER"]=0]="PLAYER",e[e["MOUSE"]=1]="MOUSE",e[e["SPIDER"]=2]="SPIDER",e[e["FORMATION"]=3]="FORMATION"}(a||(a={}))},1032:function(e,t,n){n.d(t,{SZ:function(){return M},Nn:function(){return N},JR:function(){return F},JP:function(){return z},Ld:function(){return Y},OG:function(){return H},RY:function(){return G},ov:function(){return C},Sj:function(){return K},hM:function(){return B},cp:function(){return W},ZQ:function(){return q},du:function(){return J},RW:function(){return j},UV:function(){return V},uv:function(){return $},Dl:function(){return R}});n(7658);var a=n(9290),i=n(1023),o=n(2514),r=n(2161),u=n(7176),c=n(1846),l=n(3301),s=n(1734),_=n(4976);const d="Azeena",f=e=>({name:d,img:"character",imgType:l.Oe.STANDING,profileImg:"player_profile.png",type:s.C.PLAYER,data:{at:e,hp:2,armour:0,qi:60,energy:2},power:2,team:M.PLAYER,movement:2,inventory:new c.F8([{type:_.WF,quantity:4},{type:_.N7,quantity:1}]),actions:[r.Uc,r.Qx,u.I1,u.Gt,u.qY,u.IR,u.ii],battleDetails:{center:70,rebound:100,top:30,height:150,image:"ch.png"}});var g=n(152),p=n(6705);function m(e,t){return e.x>=t.x-1&&e.x<=t.x+1&&e.y>=t.y-1&&e.y<=t.y+1&&!(e.x===t.x&&e.y===t.y)}var v=n(555),y=n(3514);function h(e){const t=[];for(let n=0;n<e.length;n++)for(let a=0;a<e[0].length;a++)e[n][a]&&0===y.UI[n][a]&&t.push({x:a,y:n});return t}function I(e,t,n,a){const i=t.filter((t=>e[t.y][t.x]&&0===y.UI[t.y][t.x])),o=h(e),r=o.filter((e=>m(e,n)));let u={x:-1,y:-1},c={x:-1,y:-1},l=-1;for(const s of r)for(const e of i){const t=Math.abs(s.x-e.x)+Math.abs(s.y-e.y);(-1===l||l>t)&&(l=t,u=s,c=e)}return c}const O=(e,t)=>{F(e,t),e.data.energy=0,e.data.meta&&(e.data.meta.target=null)},x=(e,t)=>{if(e.data.meta){const n=B();if(n&&t[n.data.at.y][n.data.at.x])return e.data.meta.target=n.data.at,void console.log(`PLAYER IDENTFIED at ${n.data.at.x}, ${n.data.at.y}`);const a=(0,p.ev)().filter((e=>e.type.title===_.Or));for(const i of a)if(t[i.at.y][i.at.x])return e.data.meta.target=i.at,void console.log(`BAIT IDENTFIED at ${i.at.x}, ${i.at.y}`)}},w=(e,t,n)=>{const a=(0,v.fs)(e.data.at,1),i=I(n,a,t,e.data.at);console.log(`closest is ${i.x}, ${i.y}`),-1!==i.x&&-1!==i.y?(console.log(`CHARGE from ${e.data.at.x}, ${e.data.at.y} to ${i.x}, ${i.y}`),(0,g.o1)(i.x,i.y),e.data.energy--):e.data.meta&&(e.data.meta.target=null)},E=e=>{const t=(0,v.fs)(e.data.at,1),n=Math.floor(Math.random()*t.length),a=t[n].x,i=t[n].y;(0,g.o1)(a,i),e.data.energy=0},T=e=>{console.log("boss move");let t=(0,i.Z$)([e]);return x(e,t),e.data.meta&&null!=e.data.meta.target?m(e.data.at,e.data.meta.target)?(console.log("attacking"),O(e,e.data.meta.target)):(console.log("charging"),w(e,e.data.meta.target,t)):(console.log("idling"),E(e)),t=(0,i.Z$)([e]),x(e,t),e.data.energy<=0},b=e=>({name:"Turqoise Spider",img:"spider",imgType:l.Oe.OVERSIZED,type:s.C.SPIDER,profileImg:"spider_profile.png",data:{at:e,hp:2,armour:10,qi:0,energy:8,meta:{target:null}},power:10,team:M.MONSTER,movement:8,actions:[],autoMove(){return T(this)},battleDetails:{center:35,rebound:55,top:40,height:180,image:"spider2.png"}});var k=n(1042),D=n(6505),P=n(9047),L=n(3238);const S=e=>({name:"Mouse",img:"mouse",profileImg:"mouse_profile.png",type:s.C.MOUSE,data:{at:e,hp:1,armour:0,qi:0,energy:4},power:0,team:M.PLAYER,movement:4,actions:[u.qY,u.IR],battleDetails:{center:85,rebound:105,top:85,height:80,image:"mouse.png"}});var M,A=n(4870),U=n(3396);(function(e){e[e["PLAYER"]=0]="PLAYER",e[e["MOB"]=1]="MOB",e[e["MONSTER"]=2]="MONSTER"})(M||(M={}));const R=(0,A.iH)([]);function C(){R.value=[],(0,k.pw)(),N(z(s.C.PLAYER,{x:0,y:4})),N(z(s.C.SPIDER,{x:2,y:7}))}function N(e){R.value.push(e),(0,k.DK)(e)}function q(e){const t=R.value.findIndex((t=>t.name===e));t>=0&&(R.value.splice(t,1),(0,k.Os)(e))}const B=()=>R.value.find((e=>e.name===d)),W=()=>R.value.filter((e=>e.team===M.PLAYER)),G=()=>R.value.filter((e=>e.team===M.MONSTER)).length>0,$=e=>R.value.find((t=>t.data.at.x===e.x&&t.data.at.y==e.y)),Y=(0,U.Fl)((()=>(0,k.Qk)()));function K(){if((0,D.f0)())return;(0,k.zR)();const e=Y;e&&(e.value.data.energy=e.value.movement,H(e.value))}function H(e){if(console.log("do move"),e.autoMove){console.log("## monster taking move (1)");const t=e.autoMove();if(!t)return void(i.oP[e.data.at.y][e.data.at.x]?(console.log("## render and set timer"),(0,o.sY)(),setTimeout((()=>H(e)),400)):H(e));K()}else V()}function V(){(0,i.Dn)(),(0,a.VQ)(u.IR),(0,o.sY)()}function F(e,t){const n=R.value.find((e=>(0,P.O)(e.data.at,t)));if(n){if(n.data.armour>=e.power)n.data.armour-=e.power;else{const t=e.power-n.data.armour;n.data.armour=0,n.data.hp-=t}return n.data.hp<0&&(n.data.hp=0,(0,k.Os)(n.name),q(n.name),n.name===d&&(0,D.e2)(`Defeated by ${e.name}`,D.Gi)),(0,L.XV)(e.power,e.battleDetails??null,n.battleDetails),void(0,o.sY)()}const a=(0,p.ev)().find((e=>e.at.x===t.x&&e.at.y===t.y));a&&(0,p.KI)(a.at)}const j=()=>JSON.stringify(R.value.map((e=>({data:e.data,type:e.type,actionsMeta:e.actions.filter((e=>e.meta)).map((e=>({name:e.label,meta:e.meta})))})))),J=e=>{const t=JSON.parse(e);R.value=t.map((e=>{const t=z(e.type,e.data.at,e.data);for(const n of e.actionsMeta){const e=t.actions.find((e=>e.label===n.name));e&&(e.meta=n.meta)}return t})),(0,i.Dn)()},z=(e,t,n)=>{let a;switch(e){case s.C.PLAYER:a=f(t);break;case s.C.MOUSE:a=S(t);break;case s.C.SPIDER:a=b(t);break;default:throw`no unit for type ${e}`}return n&&(a.data=n),a}},1023:function(e,t,n){n.d(t,{Dn:function(){return c},Km:function(){return E},Z$:function(){return l},gY:function(){return u},o8:function(){return w},oP:function(){return o},oh:function(){return r}});var a=n(3514),i=n(1032);let o=[],r=[];function u(){for(let e=0;e<a.UI.length;e++){r[e]=[];for(let t=0;t<a.UI[0].length;t++)r[e][t]=!1}}function c(){o=l((0,i.cp)(),!0)}function l(e,t=!1){const n=[];for(let i=0;i<a.UI.length;i++){n[i]=[];for(let e=0;e<a.UI[0].length;e++)n[i][e]=!1}for(const a of e)p(a.data.at,n,t),m(a.data.at,n,t),v(a.data.at,n,t),y(a.data.at,n,t),h(a.data.at,n,t),I(a.data.at,n,t),O(a.data.at,n,t),x(a.data.at,n,t);return n}const s=e=>e>=0,_=e=>e>=0,d=e=>e<a.UI[0].length,f=e=>e<a.UI.length,g=(e,t)=>1!==a.UI[t][e];function p(e,t,n){const a=e.y;let i=e.x;t[a][i]=!0,n&&(r[a][i]=!0);while(d(i)&&g(i,a))i++,t[a][i]=!0,n&&(r[a][i]=!0),O({x:i,y:a},t,n),I({x:i,y:a},t,n)}function m(e,t,n){const a=e.y;let i=e.x;t[a][i]=!0,n&&(r[a][i]=!0);while(s(i)&&g(i,a))i--,t[a][i]=!0,n&&(r[a][i]=!0),h({x:i,y:a},t,n),x({x:i,y:a},t,n)}function v(e,t,n){let a=e.y;const i=e.x;t[a][i]=!0,n&&(r[a][i]=!0);while(_(a)&&g(i,a))a--,t[a][i]=!0,n&&(r[a][i]=!0),h({x:i,y:a},t,n),O({x:i,y:a},t,n)}function y(e,t,n){let a=e.y;const i=e.x;t[a][i]=!0,n&&(r[a][i]=!0);while(f(a)&&g(i,a))a++,t[a][i]=!0,n&&(r[a][i]=!0),x({x:i,y:a},t,n),I({x:i,y:a},t,n)}function h(e,t,n){let a=e.y,i=e.x;t[a][i]=!0,n&&(r[a][i]=!0);while(_(a)&&s(i)&&g(i,a))i--,a--,t[a][i]=!0,n&&(r[a][i]=!0)}function I(e,t,n){let a=e.y,i=e.x;t[a][i]=!0,n&&(r[a][i]=!0);while(d(i)&&f(a)&&g(i,a))i++,a++,t[a][i]=!0,n&&(r[a][i]=!0)}function O(e,t,n){let a=e.y,i=e.x;t[a][i]=!0,n&&(r[a][i]=!0);while(_(a)&&d(i)&&g(i,a))i++,a--,t[a][i]=!0,n&&(r[a][i]=!0)}function x(e,t,n){let a=e.y,i=e.x;t[a][i]=!0,n&&(r[a][i]=!0);while(f(a)&&s(i)&&g(i,a))i--,a++,t[a][i]=!0,n&&(r[a][i]=!0)}const w=()=>JSON.stringify({mapped:r,visible:o}),E=e=>{const t=JSON.parse(e);r=t.mapped,o=t.visible}},1028:function(e,t,n){var a=n(9242),i=n(3396);const o={id:"hud"};function r(e,t){return(0,i.wg)(),(0,i.iD)("div",o,[(0,i.WI)(e.$slots,"default",{},void 0,!0)])}var u=n(89);const c={},l=(0,u.Z)(c,[["render",r],["__scopeId","data-v-52a7fc1f"]]);var s=l,_=n(4870),d=n(1023),f=n(1042),g=n(1032),p=n(7139);const m=e=>((0,i.dD)("data-v-4b1b6481"),e=e(),(0,i.Cn)(),e),v=m((()=>(0,i._)("span",{class:"top-corner"},null,-1))),y=["src"],h={class:"details"},I={class:"name"},O={class:"stats"},x={class:"armour"},w=m((()=>(0,i._)("img",{src:"icon_armour.png",class:"icon"},null,-1))),E={class:"hp"},T=m((()=>(0,i._)("img",{src:"icon_heart.png",class:"icon"},null,-1))),b={class:"qi"},k=m((()=>(0,i._)("img",{src:"icon_qi.png",class:"icon"},null,-1))),D=m((()=>(0,i._)("span",{class:"bottom-corner"},null,-1)));var P={__name:"UnitProfile",props:{unit:g.Unit,selected:Boolean},setup(e){const t=e,n=()=>!0===t.selected?"selected":"";return(e,a)=>((0,i.wg)(),(0,i.iD)("li",{class:(0,p.C_)(n())},[v,t.unit.profileImg?((0,i.wg)(),(0,i.iD)("img",{key:0,class:"profile",src:t.unit.profileImg},null,8,y)):(0,i.kq)("",!0),(0,i._)("span",h,[(0,i._)("span",I,(0,p.zw)(t.unit.name),1),(0,i._)("span",O,[(0,i._)("span",x,(0,p.zw)(t.unit.armour),1),w,(0,i._)("span",E,(0,p.zw)(t.unit.hp),1),T,(0,i._)("span",b,(0,p.zw)(t.unit.qi),1),k])]),D],2))}};const L=(0,u.Z)(P,[["__scopeId","data-v-4b1b6481"]]);var S=L;const M={id:"turnStack"};var A={__name:"TurnStack",setup(e){const t=()=>(0,f.T6)(),n=e=>g.Ld.value?.name===e.name;return(e,a)=>((0,i.wg)(),(0,i.iD)("ul",M,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t(),((e,t)=>((0,i.wg)(),(0,i.iD)(i.HY,{key:t},[(0,_.SU)(d.oP)[e.data.at.y][e.data.at.x]?((0,i.wg)(),(0,i.j4)(S,{key:0,unit:e,selected:n(e)},null,8,["unit","selected"])):(0,i.kq)("",!0)],64)))),128))]))}};const U=(0,u.Z)(A,[["__scopeId","data-v-227a66bb"]]);var R=U,C=n(5180),N=n(8394),q=n(3301);const B=e=>((0,i.dD)("data-v-75c8e7bd"),e=e(),(0,i.Cn)(),e),W=B((()=>(0,i._)("img",{src:"player_profile.png"},null,-1)));var G={__name:"ToolTip",props:{target:q.Lm,name:String},setup(e){const t=e,n=()=>(0,C.hD)()&&!(0,N.sO)()&&(0,C.gB)().target===t.target&&(0,C.gB)().targetName===t.name,a=()=>`top: ${(0,C.gB)().location.top}px; left: ${(0,C.gB)().location.left}px; width: ${(0,C.gB)().width??200}px`;return(e,t)=>n()?((0,i.wg)(),(0,i.iD)("div",{key:0,class:"guide",style:(0,p.j5)(a())},[W,(0,i._)("span",null,(0,p.zw)((0,_.SU)(C.gB)().text),1),(0,i._)("span",{class:(0,p.C_)(["arrow",(0,_.SU)(C.gB)().direction])},null,2)],4)):(0,i.kq)("",!0)}};const $=(0,u.Z)(G,[["__scopeId","data-v-75c8e7bd"]]);var Y=$,K=n(9290);const H=["src"];var V={__name:"ActionButton",props:{action:{type:K.Action,required:!0}},setup(e){const t=e,n=()=>["action",(0,K.y5)(t.action)?"selected":"",t.action.corners];return(e,a)=>((0,i.wg)(),(0,i.iD)("span",{class:(0,p.C_)(n()),onClick:a[0]||(a[0]=()=>(0,_.SU)(K.VQ)(t.action))},[(0,i._)("img",{src:t.action.img},null,8,H),(0,i.Wm)(Y,{target:"action",name:t.action.label},null,8,["name"])],2))}};const F=(0,u.Z)(V,[["__scopeId","data-v-0f1e618d"]]);var j=F,J=n(1846),z=n(4976);const Z=e=>((0,i.dD)("data-v-41d2713e"),e=e(),(0,i.Cn)(),e),Q=["onClick"],X=["src"],ee={class:"quantity"},te=Z((()=>(0,i._)("h2",null,"Inventory",-1)));var ne={__name:"InventoryPanel",setup(e){const t=()=>g.Ld.value?.inventory.items,n=()=>g.Ld.value?.inventory&&!g.Ld.value?.inventory.isEmpty(),a=()=>(0,K.y5)(J.wE)?"selected":"",o=e=>["item",(0,J.gE)(e)?"selected":""],r=e=>z.B4[e].img.img.src;return(e,u)=>n()?((0,i.wg)(),(0,i.iD)("div",{key:0,id:"inventory",class:(0,p.C_)(a())},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t(),((e,t)=>((0,i.wg)(),(0,i.iD)("span",{class:(0,p.C_)(o(e)),key:t,onClick:t=>(0,_.SU)(J.Wi)(e)},[(0,i._)("img",{src:r(e.type)},null,8,X),(0,i._)("span",ee,(0,p.zw)(e.quantity),1),(0,i._)("label",null,(0,p.zw)(e.type.title),1)],10,Q)))),128)),te],2)):(0,i.kq)("",!0)}};const ae=(0,u.Z)(ne,[["__scopeId","data-v-41d2713e"]]);var ie=ae,oe=n(3131);const re=e=>((0,i.dD)("data-v-465a3afe"),e=e(),(0,i.Cn)(),e),ue={key:0,id:"formations"},ce=["src"],le=["onClick"],se=["onClick"],_e={key:2},de=re((()=>(0,i._)("h2",null,"Formations",-1)));var fe={__name:"FormationsPanel",setup(e){const t=e=>z.B4[e.type].img.img.src;return(e,n)=>(0,_.SU)(oe.D9)()?((0,i.wg)(),(0,i.iD)("div",ue,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,_.SU)(oe.p$)(),((e,n)=>((0,i.wg)(),(0,i.iD)("span",{class:"item",key:n},[(0,i.Uk)((0,p.zw)(e.title)+" ",1),(0,i._)("span",{class:(0,p.C_)(["image",e.status])},[(0,i._)("img",{src:t(e)},null,8,ce),(0,i._)("span",{class:(0,p.C_)(["corner","TL",e.corners.TL?.dist>0?"active":""])},(0,p.zw)(e.corners.TL?.dist),3),(0,i._)("span",{class:(0,p.C_)(["corner","TR",e.corners.TR?.dist>0?"active":""])},(0,p.zw)(e.corners.TR?.dist),3),(0,i._)("span",{class:(0,p.C_)(["corner","BL",e.corners.BL?.dist>0?"active":""])},(0,p.zw)(e.corners.BL?.dist),3),(0,i._)("span",{class:(0,p.C_)(["corner","BR",e.corners.BR?.dist>0?"active":""])},(0,p.zw)(e.corners.BR?.dist),3)],2),e.status===(0,_.SU)(oe.Hm).IDLE?((0,i.wg)(),(0,i.iD)("button",{key:0,onClick:t=>(0,_.SU)(oe.sw)(e.at)},"Activate",8,le)):e.status===(0,_.SU)(oe.Hm).ALIVE?((0,i.wg)(),(0,i.iD)("button",{key:1,onClick:t=>(0,_.SU)(oe.$0)(e.at)},"Deactivate",8,se)):((0,i.wg)(),(0,i.iD)("span",_e,"Broken"))])))),128)),de])):(0,i.kq)("",!0)}};const ge=(0,u.Z)(fe,[["__scopeId","data-v-465a3afe"]]);var pe=ge,me=(n(7658),n(3514)),ve=n(6705),ye=n(2514),he=n(9779),Ie=n(6505);const Oe=(0,_.iH)([]),xe=()=>{const e=(0,me["do"])(),t=(0,g.RW)(),n=(0,ve.Kx)(),a=(0,oe.LD)(),i=(0,f.rl)(),o=(0,he.GB)(),r=(0,C.x8)(),u=(0,d.o8)(),c=Oe.value.length+1+" - "+(new Date).toLocaleString().split(", ")[1],l={time:c,map:e,units:t,items:n,formations:a,stack:i,effects:o,guides:r,mapped:u};console.log(l),Oe.value.push(l)},we=()=>Oe.value.length>0,Ee=()=>Oe.value.map((e=>e.time)),Te=e=>{console.log(`restoring ${e}`);const t=Oe.value.find((t=>t.time===e));t&&((0,Ie.s$)(),(0,me.gK)(t.map),(0,g.du)(t.units),(0,f.w_)(t.stack),(0,ve._x)(t.items),(0,oe.fV)(t.formations),(0,he.CB)(t.effects),(0,d.Km)(t.mapped),(0,C.J)(t.guides),(0,g.OG)((0,f.Qk)()),(0,ye.sY)())},be={class:"saves"},ke=["onClick"];var De={__name:"ListOfSaves",setup(e){return(e,t)=>((0,i.wg)(),(0,i.iD)("div",be,[(0,i._)("ul",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,_.SU)(Ee)(),((e,t)=>((0,i.wg)(),(0,i.iD)("li",{key:t,onClick:t=>(0,_.SU)(Te)(e)},(0,p.zw)(e),9,ke)))),128))])]))}};const Pe=(0,u.Z)(De,[["__scopeId","data-v-40028361"]]);var Le=Pe;const Se=e=>((0,i.dD)("data-v-46cab7ec"),e=e(),(0,i.Cn)(),e),Me={class:"progress"},Ae=Se((()=>(0,i._)("label",null,"Save Progress",-1))),Ue=Se((()=>(0,i._)("img",{class:"icon",src:"save.png"},null,-1))),Re=[Ae,Ue],Ce=Se((()=>(0,i._)("img",{class:"icon",src:"rewind.png"},null,-1))),Ne=[Ce];var qe={__name:"ProgressPanel",setup(e){const t=(0,_.iH)(!1),n=()=>t.value=!t.value;return(e,a)=>((0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",Me,[(0,i._)("span",{class:"save",onClick:a[0]||(a[0]=(...e)=>(0,_.SU)(xe)&&(0,_.SU)(xe)(...e))},Re),(0,_.SU)(we)()?((0,i.wg)(),(0,i.iD)("span",{key:0,class:"rewind",onClick:n},Ne)):(0,i.kq)("",!0)]),t.value?((0,i.wg)(),(0,i.j4)(Le,{key:0})):(0,i.kq)("",!0)],64))}};const Be=(0,u.Z)(qe,[["__scopeId","data-v-46cab7ec"]]);var We=Be;const Ge={id:"bottomRight"},$e={key:0,id:"actions"};var Ye={__name:"ActionButtons",setup(e){return(e,t)=>((0,i.wg)(),(0,i.iD)("div",Ge,[(0,_.SU)(g.Ld)?((0,i.wg)(),(0,i.iD)("div",$e,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,_.SU)(K.Ei)(),((e,t)=>((0,i.wg)(),(0,i.j4)(j,{key:t,action:e},null,8,["action"])))),128))])):(0,i.kq)("",!0),(0,i.Wm)(pe),(0,i.Wm)(ie),(0,i.Wm)(We)]))}};const Ke=(0,u.Z)(Ye,[["__scopeId","data-v-0c7ea1c6"]]);var He=Ke,Ve=n(3238);const Fe=e=>((0,i.dD)("data-v-063f7ed5"),e=e(),(0,i.Cn)(),e),je={key:0,class:"matte"},Je={class:"dialog gameOver"},ze=Fe((()=>(0,i._)("h1",null,"Game Over",-1))),Ze={class:"message"},Qe=["src"];var Xe={__name:"GameOver",setup(e){return(e,t)=>(0,_.SU)(Ie.f0)()&&!(0,_.SU)(Ve.AO)()?((0,i.wg)(),(0,i.iD)("div",je,[(0,i._)("div",Je,[ze,(0,i._)("span",Ze,(0,p.zw)((0,_.SU)(Ie.un)()),1),(0,i._)("img",{src:(0,_.SU)(Ie.D0)()},null,8,Qe)]),(0,i.Wm)(Le)])):(0,i.kq)("",!0)}};const et=(0,u.Z)(Xe,[["__scopeId","data-v-063f7ed5"]]);var tt=et;const nt={class:"matte"};function at(e,t){return(0,i.wg)(),(0,i.iD)("div",nt,[(0,i.WI)(e.$slots,"default")])}const it={},ot=(0,u.Z)(it,[["render",at]]);var rt=ot;const ut={class:"action modal"},ct=(0,i._)("span",{class:"top-corner"},null,-1),lt=(0,i._)("span",{class:"bottom-corner"},null,-1);var st={__name:"BaseModal",setup(e){return(e,t)=>((0,i.wg)(),(0,i.j4)(rt,null,{default:(0,i.w5)((()=>[(0,i._)("div",ut,[ct,(0,i.WI)(e.$slots,"default"),lt])])),_:3}))}};const _t=st;var dt=_t;const ft=(0,_.iH)(!1),gt=(0,_.iH)(null);let pt=null;const mt=()=>ft.value,vt=()=>gt.value?.inputs,yt=()=>gt.value?.title(),ht=()=>{ft.value=!1,gt.value&&pt&&gt.value.onSubmit(pt,gt.value.inputs)},It=()=>{ft.value=!1},Ot=["onUpdate:modelValue","placeholder"];var xt={__name:"ActionModal",setup(e){return(e,t)=>(0,_.SU)(mt)()?((0,i.wg)(),(0,i.j4)(dt,{key:0},{default:(0,i.w5)((()=>[(0,i._)("h1",null,(0,p.zw)((0,_.SU)(yt)()),1),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,_.SU)(vt)(),((e,t)=>((0,i.wg)(),(0,i.iD)("fieldset",{key:t},[(0,i._)("label",null,(0,p.zw)(e.title),1),(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":t=>e.value=t,placeholder:e.name},null,8,Ot),[[a.nr,e.value]])])))),128)),(0,i._)("button",{onClick:t[0]||(t[0]=(...e)=>(0,_.SU)(ht)&&(0,_.SU)(ht)(...e))},"Confirm"),(0,i._)("button",{onClick:t[1]||(t[1]=(...e)=>(0,_.SU)(It)&&(0,_.SU)(It)(...e))},"Cancel")])),_:1})):(0,i.kq)("",!0)}};const wt=xt;var Et=wt,Tt=n(1412);const bt={id:"levelCanvas"};var kt={__name:"LevelCanvas",setup(e){const t=()=>!0===Tt.d0.value?"mouseHover":"";return(e,n)=>((0,i.wg)(),(0,i.iD)("div",bt,[(0,i._)("canvas",{id:"myCanvas",class:(0,p.C_)(t()),onClick:n[0]||(n[0]=(...e)=>(0,_.SU)(Tt.lP)&&(0,_.SU)(Tt.lP)(...e)),onKeyup:[n[1]||(n[1]=(0,a.D2)(((...e)=>(0,_.SU)(ye.f4)&&(0,_.SU)(ye.f4)(...e)),["down"])),n[2]||(n[2]=(0,a.D2)(((...e)=>(0,_.SU)(ye.c6)&&(0,_.SU)(ye.c6)(...e)),["up"])),n[3]||(n[3]=(0,a.D2)(((...e)=>(0,_.SU)(ye.PL)&&(0,_.SU)(ye.PL)(...e)),["left"])),n[4]||(n[4]=(0,a.D2)(((...e)=>(0,_.SU)(ye.P$)&&(0,_.SU)(ye.P$)(...e)),["right"]))]},null,34),(0,i.Wm)(Y,{target:"canvas",name:"canvas"})]))}};const Dt=(0,u.Z)(kt,[["__scopeId","data-v-4b233009"]]);var Pt=Dt;const Lt=e=>((0,i.dD)("data-v-4a48c0b9"),e=e(),(0,i.Cn)(),e),St={class:"battleModal"},Mt=Lt((()=>(0,i._)("h1",null,"Battle",-1))),At={class:"scene"},Ut={key:0,class:"side left"},Rt=["src"],Ct=["src"],Nt={key:0,class:"damage"};var qt={__name:"BattleModal",setup(e){return(e,t)=>(0,_.SU)(Ve.AO)()?((0,i.wg)(),(0,i.j4)(dt,{key:0},{default:(0,i.w5)((()=>[(0,i._)("div",St,[Mt,(0,i._)("div",At,[(0,_.SU)(Ve.F6)()?((0,i.wg)(),(0,i.iD)("div",Ut,[(0,i._)("img",{src:(0,_.SU)(Ve.Bu)(),style:(0,p.j5)((0,_.SU)(Ve.Oj))},null,12,Rt)])):(0,i.kq)("",!0),(0,i._)("div",{class:"side right",style:(0,p.j5)((0,_.SU)(Ve.hs))},[(0,i._)("img",{src:(0,_.SU)(Ve.te)(),style:(0,p.j5)((0,_.SU)(Ve.Qd))},null,12,Ct),(0,_.SU)(Ve.Pe)?((0,i.wg)(),(0,i.iD)("span",Nt,(0,p.zw)((0,_.SU)(Ve.Pe)),1)):(0,i.kq)("",!0)],4)])])])),_:1})):(0,i.kq)("",!0)}};const Bt=(0,u.Z)(qt,[["__scopeId","data-v-4a48c0b9"]]);var Wt=Bt,Gt=n(5710),$t=n(5898),Yt={__name:"LevelContainer",setup(e){return(0,i.bv)((()=>{(0,Gt.iB)(),(0,g.ov)(),(0,d.gY)(),(0,ve.Hy)(z.Or,{x:1,y:1}),(0,ve.Hy)(z.Or,{x:5,y:6}),(0,ve.Hy)(z.Or,{x:3,y:1}),(0,g.UV)(),(0,ye.h$)(),(0,$t.R)()})),document.addEventListener("keydown",(e=>{switch(e.key){case"ArrowUp":return void(0,ye.c6)();case"ArrowDown":return void(0,ye.f4)();case"ArrowLeft":return void(0,ye.PL)();case"ArrowRight":return void(0,ye.P$)()}}),!1),(e,t)=>((0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(Pt),(0,i.Wm)(s,null,{default:(0,i.w5)((()=>[(0,i.Wm)(R),(0,i.Wm)(He)])),_:1}),(0,i.Wm)(Et),(0,i.Wm)(Wt),(0,i.Wm)(tt)],64))}};const Kt=Yt;var Ht=Kt;const Vt={class:"dialog"},Ft={class:"image"},jt=["src"],Jt={class:"text"},zt={class:"name"},Zt={class:"speech"};var Qt={__name:"DialogModal",setup(e){const t=()=>{(0,N.nl)()};return(e,n)=>(0,_.SU)(N.sO)()?((0,i.wg)(),(0,i.j4)(rt,{key:0,onClick:t},{default:(0,i.w5)((()=>[(0,i._)("div",Vt,[(0,i._)("span",Ft,[(0,i._)("img",{src:(0,_.SU)(N.Yq)().profileImg},null,8,jt)]),(0,i._)("span",Jt,[(0,i._)("span",zt,(0,p.zw)((0,_.SU)(N.Yq)().name),1),(0,i._)("span",Zt,(0,p.zw)((0,_.SU)(N.Yq)().speech),1)])])])),_:1})):(0,i.kq)("",!0)}};const Xt=Qt;var en=Xt,tn={__name:"App",setup(e){return(e,t)=>((0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(Ht),(0,i.Wm)(en)],64))}};const nn=tn;var an=nn;(0,a.ri)(an).mount("#app")},9773:function(e,t,n){n.d(t,{F:function(){return a}});const a=!0}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.exports}__webpack_require__.m=__webpack_modules__,function(){var e=[];__webpack_require__.O=function(t,n,a,i){if(!n){var o=1/0;for(l=0;l<e.length;l++){n=e[l][0],a=e[l][1],i=e[l][2];for(var r=!0,u=0;u<n.length;u++)(!1&i||o>=i)&&Object.keys(__webpack_require__.O).every((function(e){return __webpack_require__.O[e](n[u])}))?n.splice(u--,1):(r=!1,i<o&&(o=i));if(r){e.splice(l--,1);var c=a();void 0!==c&&(t=c)}}return t}i=i||0;for(var l=e.length;l>0&&e[l-1][2]>i;l--)e[l]=e[l-1];e[l]=[n,a,i]}}(),function(){__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return __webpack_require__.d(t,{a:t}),t}}(),function(){__webpack_require__.d=function(e,t){for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};__webpack_require__.O.j=function(t){return 0===e[t]};var t=function(t,n){var a,i,o=n[0],r=n[1],u=n[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(a in r)__webpack_require__.o(r,a)&&(__webpack_require__.m[a]=r[a]);if(u)var l=u(__webpack_require__)}for(t&&t(n);c<o.length;c++)i=o[c],__webpack_require__.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return __webpack_require__.O(l)},n=self["webpackChunkrpggame"]=self["webpackChunkrpggame"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var __webpack_exports__=__webpack_require__.O(void 0,[998],(function(){return __webpack_require__(1028)}));__webpack_exports__=__webpack_require__.O(__webpack_exports__)})();
//# sourceMappingURL=app.382bc543.js.map